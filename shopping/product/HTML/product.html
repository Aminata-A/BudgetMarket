<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <!-- Feuille de style personnalisée -->
  <link href="../CSS/product.css" rel="stylesheet">
</head>
<body>
  <!-- Barre de navigation -->
  <nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">BudgetMarket</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/shopping/home/home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./product.html">Mes produits</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./add-product.html">Créer un nouveau produit</a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a id="loginBtn" class="nav-link" href="/Authentication/signin.html">Se connecter</a>
          </li>
          <li class="nav-item">
            <a id="logoutBtn" class="nav-link" href="#" style="display:none;color: red;">Se déconnecter</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <!-- Contenu principal -->
  <main>
    <!-- Section Bannière -->
    <div class="banniere">
      <div class="content">
        <div>
          <h2>Mes produits</h2>
          <!-- Nouveau texte après le titre -->
          <p>Explorez et gérez vos produits ici. Vous pouvez voir tous les produits, les filtrer par date ou rechercher des articles spécifiques.</p>
          <!-- Inputs de filtrage et de recherche -->
          <div class="input"> 
            <input type="date" id="filter-date" class="form-control" placeholder="Rechercher par date">
            <input type="search" id="search-input" class="form-control mt-2" placeholder="Rechercher...">
          </div>
        </div>
      </div>
      <!-- Image de la bannière -->
      <img src="../../../img/mes produits.png" alt="image mes produits">
    </div>
    
    <!-- Boutons de filtrage -->
    <div class="my-3 " id="filter-buttons">
      <button class="btn btn-primary" id="filter-all">Voir tous</button>
      <button class="btn btn-secondary" id="filter-purchased">Achetés</button>
      <button class="btn btn-warning" id="filter-pending">Non achetés</button>
    </div>
    
    <!-- Message lorsque aucun produit n'est disponible -->
    <div id="no-products-message" class="text-center my-5" style="display:none;">
      <h3 id="no-products-text">Aujourd'hui, vous n'avez pas de courses à faire.</h3>
    </div>
    
    <!-- Liste des produits -->
    <div class="container" id="product-list">
      <!-- Les cartes de produits seront générées ici par JavaScript -->
    </div>
    
    <!-- Modal for editing products -->
    <div class="modal fade" id="editProductModal" tabindex="-1" aria-labelledby="editProductModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editProductModalLabel">Modifier le produit</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="editProductForm">
              <input type="hidden" id="product-id">
              <div class="mb-3">
                <label for="product-name" class="form-label">Nom du produit</label>
                <input type="text" class="form-control" id="product-name" required>
              </div>
              <div class="mb-3">
                <label for="product-price" class="form-label">Prix</label>
                <input type="number" class="form-control" id="product-price" step="0.01" required>
              </div>
              <div class="mb-3">
                <label for="product-quantity" class="form-label">Quantité</label>
                <input type="number" class="form-control" id="product-quantity" required>
              </div>
              <div class="mb-3">
                <label for="product-date" class="form-label">Date</label>
                <input type="date" class="form-control" id="product-date" required>
              </div>
              <button type="submit" class="btn btn-dark">Enregistrer les modifications</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Scripts JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  <script type="module" src="../JS/product.js"></script>
</body>
</html>
